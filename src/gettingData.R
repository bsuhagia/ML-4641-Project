# author : Bhavesh

# library whichis needed to get the data
require(quantmod)

# replace the directory to where your list file is located
stock_list <- read.csv("sp500-symbol-list.txt",header = F, stringsAsFactors = F)

# print the list of S&P 500 tickers
stock_list

# create new environment to store the stock data
stock_data <- new.env()

# length of list <- 500
nrstocks = length(stock_list[,1])

# main loop which will download the data
for (i in 1:nrstocks) {
  tryCatch( {
    if (!is.null(eval(parse(text=paste("stock_data$",stock_list[i,1],sep = ""))))) {
      break
    }
    cat("(",i,"/",nrstocks,")","Downloading",stock_list[i,1],"\n")
    getSymbols(stock_list[i,1], env = stock_data, src="yahoo",from="2010-06-10", to="2015-06-10")
    stock_data[[stock_list[i,1]]]
    stock_name = stock_data[[stock_list[i,2]]]
    stock_name = gsub(" ", "", stock_name, fixed = TRUE)
    write.csv(stock_data[stock_list[i,1]], file=stock_name + ".csv")    
  }
  , error = function(e) print (e))
}

#save data to a csv file for further use
write.csv(to.monthly(stock_data$A), file="A.csv")
write.csv(to.monthly(stock_data$AA), file="AA.csv")
write.csv(to.monthly(stock_data$AAPL), file="AAPL.csv")
write.csv(to.monthly(stock_data$ABC), file="ABC.csv")
write.csv(to.monthly(stock_data$ABT), file="ABT.csv")
write.csv(to.monthly(stock_data$ACE), file="ACE.csv")
write.csv(to.monthly(stock_data$ACN), file="ACN.csv")
write.csv(to.monthly(stock_data$ADBE), file="ADBE.csv")
write.csv(to.monthly(stock_data$ADI), file="ADI.csv")
write.csv(to.monthly(stock_data$ADM), file="ADM.csv")
write.csv(to.monthly(stock_data$ADP), file="ADP.csv")
write.csv(to.monthly(stock_data$ADSK), file="ADSK.csv")
write.csv(to.monthly(stock_data$ADT), file="ADT.csv")
write.csv(to.monthly(stock_data$AEE), file="AEE.csv")
write.csv(to.monthly(stock_data$AEP), file="AEP.csv")
write.csv(to.monthly(stock_data$AES), file="AES.csv")
write.csv(to.monthly(stock_data$AET), file="AET.csv")
write.csv(to.monthly(stock_data$AFL), file="AFL.csv")
write.csv(to.monthly(stock_data$AGN), file="AGN.csv")
write.csv(to.monthly(stock_data$AIG), file="AIG.csv")
write.csv(to.monthly(stock_data$AIV), file="AIV.csv")
write.csv(to.monthly(stock_data$AIZ), file="AIZ.csv")
write.csv(to.monthly(stock_data$AKAM), file="AKAM.csv")
write.csv(to.monthly(stock_data$ALL), file="ALL.csv")
write.csv(to.monthly(stock_data$ALTR), file="ALTR.csv")
write.csv(to.monthly(stock_data$ALXN), file="ALXN.csv")
write.csv(to.monthly(stock_data$AMAT), file="AMAT.csv")
write.csv(to.monthly(stock_data$AMD), file="AMD.csv")
write.csv(to.monthly(stock_data$AMGN), file="AMGN.csv")
write.csv(to.monthly(stock_data$AMP), file="AMP.csv")
write.csv(to.monthly(stock_data$AMT), file="AMT.csv")
write.csv(to.monthly(stock_data$AMZN), file="AMZN.csv")
write.csv(to.monthly(stock_data$AN), file="AN.csv")
write.csv(to.monthly(stock_data$ANF), file="ANF.csv")
write.csv(to.monthly(stock_data$AON), file="AON.csv")
write.csv(to.monthly(stock_data$APA), file="APA.csv")
write.csv(to.monthly(stock_data$APC), file="APC.csv")
write.csv(to.monthly(stock_data$APD), file="APD.csv")
write.csv(to.monthly(stock_data$APH), file="APH.csv")
write.csv(to.monthly(stock_data$APOL), file="APOL.csv")
write.csv(to.monthly(stock_data$ARG), file="ARG.csv")
write.csv(to.monthly(stock_data$ATI), file="ATI.csv")
write.csv(to.monthly(stock_data$AVB), file="AVB.csv")
write.csv(to.monthly(stock_data$AVP), file="AVP.csv")
write.csv(to.monthly(stock_data$AVY), file="AVY.csv")
write.csv(to.monthly(stock_data$AXP), file="AXP.csv")
write.csv(to.monthly(stock_data$AZO), file="AZO.csv")
write.csv(to.monthly(stock_data$BA), file="BA.csv")
write.csv(to.monthly(stock_data$BAC), file="BAC.csv")
write.csv(to.monthly(stock_data$BAX), file="BAX.csv")
write.csv(to.monthly(stock_data$BBBY), file="BBBY.csv")
write.csv(to.monthly(stock_data$BBT), file="BBT.csv")
write.csv(to.monthly(stock_data$BBY), file="BBY.csv")
write.csv(to.monthly(stock_data$BCR), file="BCR.csv")
write.csv(to.monthly(stock_data$BDX), file="BDX.csv")
write.csv(to.monthly(stock_data$BEAM), file="BEAM.csv")
write.csv(to.monthly(stock_data$BEN), file="BEN.csv")
write.csv(to.monthly(stock_data$BHI), file="BHI.csv")
write.csv(to.monthly(stock_data$BIG), file="BIG.csv")
write.csv(to.monthly(stock_data$BIIB), file="BIIB.csv")
write.csv(to.monthly(stock_data$BK), file="BK.csv")
write.csv(to.monthly(stock_data$BLK), file="BLK.csv")
write.csv(to.monthly(stock_data$BLL), file="BLL.csv")
write.csv(to.monthly(stock_data$BMC), file="BMC.csv")
write.csv(to.monthly(stock_data$BMS), file="BMS.csv")
write.csv(to.monthly(stock_data$BMY), file="BMY.csv")
write.csv(to.monthly(stock_data$BRCM), file="BRCM.csv")
write.csv(to.monthly(stock_data$BSX), file="BSX.csv")
write.csv(to.monthly(stock_data$BTU), file="BTU.csv")
write.csv(to.monthly(stock_data$BWA), file="BWA.csv")
write.csv(to.monthly(stock_data$BXP), file="BXP.csv")
write.csv(to.monthly(stock_data$C), file="C.csv")
write.csv(to.monthly(stock_data$CA), file="CA.csv")
write.csv(to.monthly(stock_data$CAG), file="CAG.csv")
write.csv(to.monthly(stock_data$CAH), file="CAH.csv")
write.csv(to.monthly(stock_data$CAM), file="CAM.csv")
write.csv(to.monthly(stock_data$CAT), file="CAT.csv")
write.csv(to.monthly(stock_data$CB), file="CB.csv")
write.csv(to.monthly(stock_data$CBG), file="CBG.csv")
write.csv(to.monthly(stock_data$CBS), file="CBS.csv")
write.csv(to.monthly(stock_data$CCE), file="CCE.csv")
write.csv(to.monthly(stock_data$CCI), file="CCI.csv")
write.csv(to.monthly(stock_data$CCL), file="CCL.csv")
write.csv(to.monthly(stock_data$CELG), file="CELG.csv")
write.csv(to.monthly(stock_data$CERN), file="CERN.csv")
write.csv(to.monthly(stock_data$CF), file="CF.csv")
write.csv(to.monthly(stock_data$CFN), file="CFN.csv")
write.csv(to.monthly(stock_data$CHK), file="CHK.csv")
write.csv(to.monthly(stock_data$CHRW), file="CHRW.csv")
write.csv(to.monthly(stock_data$CI), file="CI.csv")
write.csv(to.monthly(stock_data$CINF), file="CINF.csv")
write.csv(to.monthly(stock_data$CL), file="CL.csv")
write.csv(to.monthly(stock_data$CLF), file="CLF.csv")
write.csv(to.monthly(stock_data$CLX), file="CLX.csv")
write.csv(to.monthly(stock_data$CMA), file="CMA.csv")
write.csv(to.monthly(stock_data$CMCSA), file="CMCSA.csv")
write.csv(to.monthly(stock_data$CME), file="CME.csv")
write.csv(to.monthly(stock_data$CMG), file="CMG.csv")
write.csv(to.monthly(stock_data$CMI), file="CMI.csv")
write.csv(to.monthly(stock_data$CMS), file="CMS.csv")
write.csv(to.monthly(stock_data$CNP), file="CNP.csv")
write.csv(to.monthly(stock_data$CNX), file="CNX.csv")
write.csv(to.monthly(stock_data$COF), file="COF.csv")
write.csv(to.monthly(stock_data$COG), file="COG.csv")
write.csv(to.monthly(stock_data$COH), file="COH.csv")
write.csv(to.monthly(stock_data$COL), file="COL.csv")
write.csv(to.monthly(stock_data$COP), file="COP.csv")
write.csv(to.monthly(stock_data$COST), file="COST.csv")
write.csv(to.monthly(stock_data$CPB), file="CPB.csv")
write.csv(to.monthly(stock_data$CRM), file="CRM.csv")
write.csv(to.monthly(stock_data$CSC), file="CSC.csv")
write.csv(to.monthly(stock_data$CSCO), file="CSCO.csv")
write.csv(to.monthly(stock_data$CSX), file="CSX.csv")
write.csv(to.monthly(stock_data$CTAS), file="CTAS.csv")
write.csv(to.monthly(stock_data$CTL), file="CTL.csv")
write.csv(to.monthly(stock_data$CTSH), file="CTSH.csv")
write.csv(to.monthly(stock_data$CTXS), file="CTXS.csv")
write.csv(to.monthly(stock_data$CVC), file="CVC.csv")
write.csv(to.monthly(stock_data$CVH), file="CVH.csv")
write.csv(to.monthly(stock_data$CVS), file="CVS.csv")
write.csv(to.monthly(stock_data$CVX), file="CVX.csv")
write.csv(to.monthly(stock_data$D), file="D.csv")
write.csv(to.monthly(stock_data$DD), file="DD.csv")
write.csv(to.monthly(stock_data$DE), file="DE.csv")
write.csv(to.monthly(stock_data$DELL), file="DELL.csv")
write.csv(to.monthly(stock_data$DF), file="DF.csv")
write.csv(to.monthly(stock_data$DFS), file="DFS.csv")
write.csv(to.monthly(stock_data$DG), file="DG.csv")
write.csv(to.monthly(stock_data$DGX), file="DGX.csv")
write.csv(to.monthly(stock_data$DHI), file="DHI.csv")
write.csv(to.monthly(stock_data$DHR), file="DHR.csv")
write.csv(to.monthly(stock_data$DIS), file="DIS.csv")
write.csv(to.monthly(stock_data$DISCA), file="DISCA.csv")
write.csv(to.monthly(stock_data$DLTR), file="DLTR.csv")
write.csv(to.monthly(stock_data$DNB), file="DNB.csv")
write.csv(to.monthly(stock_data$DNR), file="DNR.csv")
write.csv(to.monthly(stock_data$DO), file="DO.csv")
write.csv(to.monthly(stock_data$DOV), file="DOV.csv")
write.csv(to.monthly(stock_data$DOW), file="DOW.csv")
write.csv(to.monthly(stock_data$DPS), file="DPS.csv")
write.csv(to.monthly(stock_data$DRI), file="DRI.csv")
write.csv(to.monthly(stock_data$DTE), file="DTE.csv")
write.csv(to.monthly(stock_data$DTV), file="DTV.csv")
write.csv(to.monthly(stock_data$DUK), file="DUK.csv")
write.csv(to.monthly(stock_data$DVA), file="DVA.csv")
write.csv(to.monthly(stock_data$DVN), file="DVN.csv")
write.csv(to.monthly(stock_data$EA), file="EA.csv")
write.csv(to.monthly(stock_data$EBAY), file="EBAY.csv")
write.csv(to.monthly(stock_data$ECL), file="ECL.csv")
write.csv(to.monthly(stock_data$ED), file="ED.csv")
write.csv(to.monthly(stock_data$EFX), file="EFX.csv")
write.csv(to.monthly(stock_data$EIX), file="EIX.csv")
write.csv(to.monthly(stock_data$EL), file="EL.csv")
write.csv(to.monthly(stock_data$EMC), file="EMC.csv")
write.csv(to.monthly(stock_data$EMN), file="EMN.csv")
write.csv(to.monthly(stock_data$EMR), file="EMR.csv")
write.csv(to.monthly(stock_data$EOG), file="EOG.csv")
write.csv(to.monthly(stock_data$EQR), file="EQR.csv")
write.csv(to.monthly(stock_data$EQT), file="EQT.csv")
write.csv(to.monthly(stock_data$ESRX), file="ESRX.csv")
write.csv(to.monthly(stock_data$ESV), file="ESV.csv")
write.csv(to.monthly(stock_data$ETFC), file="ETFC.csv")
write.csv(to.monthly(stock_data$ETN), file="ETN.csv")
write.csv(to.monthly(stock_data$ETR), file="ETR.csv")
write.csv(to.monthly(stock_data$EW), file="EW.csv")
write.csv(to.monthly(stock_data$EXC), file="EXC.csv")
write.csv(to.monthly(stock_data$EXPD), file="EXPD.csv")
write.csv(to.monthly(stock_data$EXPE), file="EXPE.csv")
write.csv(to.monthly(stock_data$F), file="F.csv")
write.csv(to.monthly(stock_data$FAST), file="FAST.csv")
write.csv(to.monthly(stock_data$FCX), file="FCX.csv")
write.csv(to.monthly(stock_data$FDO), file="FDO.csv")
write.csv(to.monthly(stock_data$FDX), file="FDX.csv")
write.csv(to.monthly(stock_data$FE), file="FE.csv")
write.csv(to.monthly(stock_data$FFIV), file="FFIV.csv")
write.csv(to.monthly(stock_data$FHN), file="FHN.csv")
write.csv(to.monthly(stock_data$FII), file="FII.csv")
write.csv(to.monthly(stock_data$FIS), file="FIS.csv")
write.csv(to.monthly(stock_data$FISV), file="FISV.csv")
write.csv(to.monthly(stock_data$FITB), file="FITB.csv")
write.csv(to.monthly(stock_data$FLIR), file="FLIR.csv")
write.csv(to.monthly(stock_data$FLR), file="FLR.csv")
write.csv(to.monthly(stock_data$FLS), file="FLS.csv")
write.csv(to.monthly(stock_data$FMC), file="FMC.csv")
write.csv(to.monthly(stock_data$FOSL), file="FOSL.csv")
write.csv(to.monthly(stock_data$FRX), file="FRX.csv")
write.csv(to.monthly(stock_data$FSLR), file="FSLR.csv")
write.csv(to.monthly(stock_data$FTI), file="FTI.csv")
write.csv(to.monthly(stock_data$FTR), file="FTR.csv")
write.csv(to.monthly(stock_data$GAS), file="GAS.csv")
write.csv(to.monthly(stock_data$GD), file="GD.csv")
write.csv(to.monthly(stock_data$GE), file="GE.csv")
write.csv(to.monthly(stock_data$GILD), file="GILD.csv")
write.csv(to.monthly(stock_data$GIS), file="GIS.csv")
write.csv(to.monthly(stock_data$GLW), file="GLW.csv")
write.csv(to.monthly(stock_data$GME), file="GME.csv")
write.csv(to.monthly(stock_data$GNW), file="GNW.csv")
write.csv(to.monthly(stock_data$GOOG), file="GOOG.csv")
write.csv(to.monthly(stock_data$GPC), file="GPC.csv")
write.csv(to.monthly(stock_data$GPS), file="GPS.csv")
write.csv(to.monthly(stock_data$GS), file="GS.csv")
write.csv(to.monthly(stock_data$GT), file="GT.csv")
write.csv(to.monthly(stock_data$GWW), file="GWW.csv")
write.csv(to.monthly(stock_data$HAL), file="HAL.csv")
write.csv(to.monthly(stock_data$HAR), file="HAR.csv")
write.csv(to.monthly(stock_data$HAS), file="HAS.csv")
write.csv(to.monthly(stock_data$HBAN), file="HBAN.csv")
write.csv(to.monthly(stock_data$HCBK), file="HCBK.csv")
write.csv(to.monthly(stock_data$HCN), file="HCN.csv")
write.csv(to.monthly(stock_data$HCP), file="HCP.csv")
write.csv(to.monthly(stock_data$HD), file="HD.csv")
write.csv(to.monthly(stock_data$HES), file="HES.csv")
write.csv(to.monthly(stock_data$HIG), file="HIG.csv")
write.csv(to.monthly(stock_data$HNZ), file="HNZ.csv")
write.csv(to.monthly(stock_data$HOG), file="HOG.csv")
write.csv(to.monthly(stock_data$HON), file="HON.csv")
write.csv(to.monthly(stock_data$HOT), file="HOT.csv")
write.csv(to.monthly(stock_data$HP), file="HP.csv")
write.csv(to.monthly(stock_data$HPQ), file="HPQ.csv")
write.csv(to.monthly(stock_data$HRB), file="HRB.csv")
write.csv(to.monthly(stock_data$HRL), file="HRL.csv")
write.csv(to.monthly(stock_data$HRS), file="HRS.csv")
write.csv(to.monthly(stock_data$HSP), file="HSP.csv")
write.csv(to.monthly(stock_data$HST), file="HST.csv")
write.csv(to.monthly(stock_data$HSY), file="HSY.csv")
write.csv(to.monthly(stock_data$HUM), file="HUM.csv")
write.csv(to.monthly(stock_data$IBM), file="IBM.csv")
write.csv(to.monthly(stock_data$ICE), file="ICE.csv")
write.csv(to.monthly(stock_data$IFF), file="IFF.csv")
write.csv(to.monthly(stock_data$IGT), file="IGT.csv")
write.csv(to.monthly(stock_data$INTC), file="INTC.csv")
write.csv(to.monthly(stock_data$INTU), file="INTU.csv")
write.csv(to.monthly(stock_data$IP), file="IP.csv")
write.csv(to.monthly(stock_data$IPG), file="IPG.csv")
write.csv(to.monthly(stock_data$IR), file="IR.csv")
write.csv(to.monthly(stock_data$IRM), file="IRM.csv")
write.csv(to.monthly(stock_data$ISRG), file="ISRG.csv")
write.csv(to.monthly(stock_data$ITW), file="ITW.csv")
write.csv(to.monthly(stock_data$IVZ), file="IVZ.csv")
write.csv(to.monthly(stock_data$JBL), file="JBL.csv")
write.csv(to.monthly(stock_data$JCI), file="JCI.csv")
write.csv(to.monthly(stock_data$JCP), file="JCP.csv")
write.csv(to.monthly(stock_data$JDSU), file="JDSU.csv")
write.csv(to.monthly(stock_data$JEC), file="JEC.csv")
write.csv(to.monthly(stock_data$JNJ), file="JNJ.csv")
write.csv(to.monthly(stock_data$JNPR), file="JNPR.csv")
write.csv(to.monthly(stock_data$JOY), file="JOY.csv")
write.csv(to.monthly(stock_data$JPM), file="JPM.csv")
write.csv(to.monthly(stock_data$JWN), file="JWN.csv")
write.csv(to.monthly(stock_data$K), file="K.csv")
write.csv(to.monthly(stock_data$KEY), file="KEY.csv")
write.csv(to.monthly(stock_data$KIM), file="KIM.csv")
write.csv(to.monthly(stock_data$KLAC), file="KLAC.csv")
write.csv(to.monthly(stock_data$KMB), file="KMB.csv")
write.csv(to.monthly(stock_data$KMI), file="KMI.csv")
write.csv(to.monthly(stock_data$KMX), file="KMX.csv")
write.csv(to.monthly(stock_data$KO), file="KO.csv")
write.csv(to.monthly(stock_data$KR), file="KR.csv")
write.csv(to.monthly(stock_data$KRFT), file="KRFT.csv")
write.csv(to.monthly(stock_data$KSS), file="KSS.csv")
write.csv(to.monthly(stock_data$L), file="L.csv")
write.csv(to.monthly(stock_data$LEG), file="LEG.csv")
write.csv(to.monthly(stock_data$LEN), file="LEN.csv")
write.csv(to.monthly(stock_data$LH), file="LH.csv")
write.csv(to.monthly(stock_data$LLL), file="LLL.csv")
write.csv(to.monthly(stock_data$LLTC), file="LLTC.csv")
write.csv(to.monthly(stock_data$LLY), file="LLY.csv")
write.csv(to.monthly(stock_data$LM), file="LM.csv")
write.csv(to.monthly(stock_data$LMT), file="LMT.csv")
write.csv(to.monthly(stock_data$LNC), file="LNC.csv")
write.csv(to.monthly(stock_data$LO), file="LO.csv")
write.csv(to.monthly(stock_data$LOW), file="LOW.csv")
write.csv(to.monthly(stock_data$LRCX), file="LRCX.csv")
write.csv(to.monthly(stock_data$LSI), file="LSI.csv")
write.csv(to.monthly(stock_data$LTD), file="LTD.csv")
write.csv(to.monthly(stock_data$LUK), file="LUK.csv")
write.csv(to.monthly(stock_data$LUV), file="LUV.csv")
write.csv(to.monthly(stock_data$LYB), file="LYB.csv")
write.csv(to.monthly(stock_data$M), file="M.csv")
write.csv(to.monthly(stock_data$MA), file="MA.csv")
write.csv(to.monthly(stock_data$MAR), file="MAR.csv")
write.csv(to.monthly(stock_data$MAS), file="MAS.csv")
write.csv(to.monthly(stock_data$MAT), file="MAT.csv")
write.csv(to.monthly(stock_data$MCD), file="MCD.csv")
write.csv(to.monthly(stock_data$MCHP), file="MCHP.csv")
write.csv(to.monthly(stock_data$MCK), file="MCK.csv")
write.csv(to.monthly(stock_data$MCO), file="MCO.csv")
write.csv(to.monthly(stock_data$MDLZ), file="MDLZ.csv")
write.csv(to.monthly(stock_data$MDT), file="MDT.csv")
write.csv(to.monthly(stock_data$MET), file="MET.csv")
write.csv(to.monthly(stock_data$MJN), file="MJN.csv")
write.csv(to.monthly(stock_data$MKC), file="MKC.csv")
write.csv(to.monthly(stock_data$MMC), file="MMC.csv")
write.csv(to.monthly(stock_data$MMM), file="MMM.csv")
write.csv(to.monthly(stock_data$MNST), file="MNST.csv")
write.csv(to.monthly(stock_data$MO), file="MO.csv")
write.csv(to.monthly(stock_data$MOLX), file="MOLX.csv")
write.csv(to.monthly(stock_data$MON), file="MON.csv")
write.csv(to.monthly(stock_data$MOS), file="MOS.csv")
write.csv(to.monthly(stock_data$MPC), file="MPC.csv")
write.csv(to.monthly(stock_data$MRK), file="MRK.csv")
write.csv(to.monthly(stock_data$MRO), file="MRO.csv")
write.csv(to.monthly(stock_data$MS), file="MS.csv")
write.csv(to.monthly(stock_data$MSFT), file="MSFT.csv")
write.csv(to.monthly(stock_data$MSI), file="MSI.csv")
write.csv(to.monthly(stock_data$MTB), file="MTB.csv")
write.csv(to.monthly(stock_data$MU), file="MU.csv")
write.csv(to.monthly(stock_data$MUR), file="MUR.csv")
write.csv(to.monthly(stock_data$MWV), file="MWV.csv")
write.csv(to.monthly(stock_data$MYL), file="MYL.csv")
write.csv(to.monthly(stock_data$NBL), file="NBL.csv")
write.csv(to.monthly(stock_data$NBR), file="NBR.csv")
write.csv(to.monthly(stock_data$NDAQ), file="NDAQ.csv")
write.csv(to.monthly(stock_data$NE), file="NE.csv")
write.csv(to.monthly(stock_data$NEE), file="NEE.csv")
write.csv(to.monthly(stock_data$NEM), file="NEM.csv")
write.csv(to.monthly(stock_data$NFLX), file="NFLX.csv")
write.csv(to.monthly(stock_data$NFX), file="NFX.csv")
write.csv(to.monthly(stock_data$NI), file="NI.csv")
write.csv(to.monthly(stock_data$NKE), file="NKE.csv")
write.csv(to.monthly(stock_data$NOC), file="NOC.csv")
write.csv(to.monthly(stock_data$NOV), file="NOV.csv")
write.csv(to.monthly(stock_data$NRG), file="NRG.csv")
write.csv(to.monthly(stock_data$NSC), file="NSC.csv")
write.csv(to.monthly(stock_data$NTAP), file="NTAP.csv")
write.csv(to.monthly(stock_data$NTRS), file="NTRS.csv")
write.csv(to.monthly(stock_data$NUE), file="NUE.csv")
write.csv(to.monthly(stock_data$NVDA), file="NVDA.csv")
write.csv(to.monthly(stock_data$NWL), file="NWL.csv")
write.csv(to.monthly(stock_data$NWSA), file="NWSA.csv")
write.csv(to.monthly(stock_data$NYX), file="NYX.csv")
write.csv(to.monthly(stock_data$OI), file="OI.csv")
write.csv(to.monthly(stock_data$OKE), file="OKE.csv")
write.csv(to.monthly(stock_data$OMC), file="OMC.csv")
write.csv(to.monthly(stock_data$ORCL), file="ORCL.csv")
write.csv(to.monthly(stock_data$ORLY), file="ORLY.csv")
write.csv(to.monthly(stock_data$OXY), file="OXY.csv")
write.csv(to.monthly(stock_data$PAYX), file="PAYX.csv")
write.csv(to.monthly(stock_data$PBCT), file="PBCT.csv")
write.csv(to.monthly(stock_data$PBI), file="PBI.csv")
write.csv(to.monthly(stock_data$PCAR), file="PCAR.csv")
write.csv(to.monthly(stock_data$PCG), file="PCG.csv")
write.csv(to.monthly(stock_data$PCL), file="PCL.csv")
write.csv(to.monthly(stock_data$PCLN), file="PCLN.csv")
write.csv(to.monthly(stock_data$PCP), file="PCP.csv")
write.csv(to.monthly(stock_data$PCS), file="PCS.csv")
write.csv(to.monthly(stock_data$PDCO), file="PDCO.csv")
write.csv(to.monthly(stock_data$PEG), file="PEG.csv")
write.csv(to.monthly(stock_data$PEP), file="PEP.csv")
write.csv(to.monthly(stock_data$PETM), file="PETM.csv")
write.csv(to.monthly(stock_data$PFE), file="PFE.csv")
write.csv(to.monthly(stock_data$PFG), file="PFG.csv")
write.csv(to.monthly(stock_data$PG), file="PG.csv")
write.csv(to.monthly(stock_data$PGR), file="PGR.csv")
write.csv(to.monthly(stock_data$PH), file="PH.csv")
write.csv(to.monthly(stock_data$PHM), file="PHM.csv")
write.csv(to.monthly(stock_data$PKI), file="PKI.csv")
write.csv(to.monthly(stock_data$PLD), file="PLD.csv")
write.csv(to.monthly(stock_data$PLL), file="PLL.csv")
write.csv(to.monthly(stock_data$PM), file="PM.csv")
write.csv(to.monthly(stock_data$PNC), file="PNC.csv")
write.csv(to.monthly(stock_data$PNR), file="PNR.csv")
write.csv(to.monthly(stock_data$PNW), file="PNW.csv")
write.csv(to.monthly(stock_data$POM), file="POM.csv")
write.csv(to.monthly(stock_data$PPG), file="PPG.csv")
write.csv(to.monthly(stock_data$PPL), file="PPL.csv")
write.csv(to.monthly(stock_data$PRGO), file="PRGO.csv")
write.csv(to.monthly(stock_data$PRU), file="PRU.csv")
write.csv(to.monthly(stock_data$PSA), file="PSA.csv")
write.csv(to.monthly(stock_data$PSX), file="PSX.csv")
write.csv(to.monthly(stock_data$PWR), file="PWR.csv")
write.csv(to.monthly(stock_data$PX), file="PX.csv")
write.csv(to.monthly(stock_data$PXD), file="PXD.csv")
write.csv(to.monthly(stock_data$QCOM), file="QCOM.csv")
write.csv(to.monthly(stock_data$QEP), file="QEP.csv")
write.csv(to.monthly(stock_data$R), file="R.csv")
write.csv(to.monthly(stock_data$RAI), file="RAI.csv")
write.csv(to.monthly(stock_data$RDC), file="RDC.csv")
write.csv(to.monthly(stock_data$RF), file="RF.csv")
write.csv(to.monthly(stock_data$RHI), file="RHI.csv")
write.csv(to.monthly(stock_data$RHT), file="RHT.csv")
write.csv(to.monthly(stock_data$RL), file="RL.csv")
write.csv(to.monthly(stock_data$ROK), file="ROK.csv")
write.csv(to.monthly(stock_data$ROP), file="ROP.csv")
write.csv(to.monthly(stock_data$ROST), file="ROST.csv")
write.csv(to.monthly(stock_data$RRC), file="RRC.csv")
write.csv(to.monthly(stock_data$RRD), file="RRD.csv")
write.csv(to.monthly(stock_data$RSG), file="RSG.csv")
write.csv(to.monthly(stock_data$RTN), file="RTN.csv")
write.csv(to.monthly(stock_data$S), file="S.csv")
write.csv(to.monthly(stock_data$SAI), file="SAI.csv")
write.csv(to.monthly(stock_data$SBUX), file="SBUX.csv")
write.csv(to.monthly(stock_data$SCG), file="SCG.csv")
write.csv(to.monthly(stock_data$SCHW), file="SCHW.csv")
write.csv(to.monthly(stock_data$SE), file="SE.csv")
write.csv(to.monthly(stock_data$SEE), file="SEE.csv")
write.csv(to.monthly(stock_data$SHW), file="SHW.csv")
write.csv(to.monthly(stock_data$SIAL), file="SIAL.csv")
write.csv(to.monthly(stock_data$SJM), file="SJM.csv")
write.csv(to.monthly(stock_data$SLB), file="SLB.csv")
write.csv(to.monthly(stock_data$SLM), file="SLM.csv")
write.csv(to.monthly(stock_data$SNA), file="SNA.csv")
write.csv(to.monthly(stock_data$SNDK), file="SNDK.csv")
write.csv(to.monthly(stock_data$SNI), file="SNI.csv")
write.csv(to.monthly(stock_data$SO), file="SO.csv")
write.csv(to.monthly(stock_data$SPG), file="SPG.csv")
write.csv(to.monthly(stock_data$SPLS), file="SPLS.csv")
write.csv(to.monthly(stock_data$SRCL), file="SRCL.csv")
write.csv(to.monthly(stock_data$SRE), file="SRE.csv")
write.csv(to.monthly(stock_data$STI), file="STI.csv")
write.csv(to.monthly(stock_data$STJ), file="STJ.csv")
write.csv(to.monthly(stock_data$STT), file="STT.csv")
write.csv(to.monthly(stock_data$STX), file="STX.csv")
write.csv(to.monthly(stock_data$STZ), file="STZ.csv")
write.csv(to.monthly(stock_data$SWK), file="SWK.csv")
write.csv(to.monthly(stock_data$SWN), file="SWN.csv")
write.csv(to.monthly(stock_data$SYK), file="SYK.csv")
write.csv(to.monthly(stock_data$SYMC), file="SYMC.csv")
write.csv(to.monthly(stock_data$SYY), file="SYY.csv")
write.csv(to.monthly(stock_data$T), file="T.csv")
write.csv(to.monthly(stock_data$TAP), file="TAP.csv")
write.csv(to.monthly(stock_data$TDC), file="TDC.csv")
write.csv(to.monthly(stock_data$TE), file="TE.csv")
write.csv(to.monthly(stock_data$TEG), file="TEG.csv")
write.csv(to.monthly(stock_data$TEL), file="TEL.csv")
write.csv(to.monthly(stock_data$TER), file="TER.csv")
write.csv(to.monthly(stock_data$TGT), file="TGT.csv")
write.csv(to.monthly(stock_data$THC), file="THC.csv")
write.csv(to.monthly(stock_data$TIE), file="TIE.csv")
write.csv(to.monthly(stock_data$TIF), file="TIF.csv")
write.csv(to.monthly(stock_data$TJX), file="TJX.csv")
write.csv(to.monthly(stock_data$TMK), file="TMK.csv")
write.csv(to.monthly(stock_data$TMO), file="TMO.csv")
write.csv(to.monthly(stock_data$TRIP), file="TRIP.csv")
write.csv(to.monthly(stock_data$TROW), file="TROW.csv")
write.csv(to.monthly(stock_data$TRV), file="TRV.csv")
write.csv(to.monthly(stock_data$TSN), file="TSN.csv")
write.csv(to.monthly(stock_data$TSO), file="TSO.csv")
write.csv(to.monthly(stock_data$TSS), file="TSS.csv")
write.csv(to.monthly(stock_data$TWC), file="TWC.csv")
write.csv(to.monthly(stock_data$TWX), file="TWX.csv")
write.csv(to.monthly(stock_data$TXN), file="TXN.csv")
write.csv(to.monthly(stock_data$TXT), file="TXT.csv")
write.csv(to.monthly(stock_data$TYC), file="TYC.csv")
write.csv(to.monthly(stock_data$UNH), file="UNH.csv")
write.csv(to.monthly(stock_data$UNM), file="UNM.csv")
write.csv(to.monthly(stock_data$UNP), file="UNP.csv")
write.csv(to.monthly(stock_data$UPS), file="UPS.csv")
write.csv(to.monthly(stock_data$URBN), file="URBN.csv")
write.csv(to.monthly(stock_data$USB), file="USB.csv")
write.csv(to.monthly(stock_data$UTX), file="UTX.csv")
write.csv(to.monthly(stock_data$V), file="V.csv")
write.csv(to.monthly(stock_data$VAR), file="VAR.csv")
write.csv(to.monthly(stock_data$VFC), file="VFC.csv")
write.csv(to.monthly(stock_data$VIAB), file="VIAB.csv")
write.csv(to.monthly(stock_data$VLO), file="VLO.csv")
write.csv(to.monthly(stock_data$VMC), file="VMC.csv")
write.csv(to.monthly(stock_data$VNO), file="VNO.csv")
write.csv(to.monthly(stock_data$VRSN), file="VRSN.csv")
write.csv(to.monthly(stock_data$VTR), file="VTR.csv")
write.csv(to.monthly(stock_data$VZ), file="VZ.csv")
write.csv(to.monthly(stock_data$WAT), file="WAT.csv")
write.csv(to.monthly(stock_data$WDC), file="WDC.csv")
write.csv(to.monthly(stock_data$WEC), file="WEC.csv")
write.csv(to.monthly(stock_data$WFC), file="WFC.csv")
write.csv(to.monthly(stock_data$WFM), file="WFM.csv")
write.csv(to.monthly(stock_data$WHR), file="WHR.csv")
write.csv(to.monthly(stock_data$WIN), file="WIN.csv")
write.csv(to.monthly(stock_data$WM), file="WM.csv")
write.csv(to.monthly(stock_data$WMB), file="WMB.csv")
write.csv(to.monthly(stock_data$WMT), file="WMT.csv")
write.csv(to.monthly(stock_data$WPI), file="WPI.csv")
write.csv(to.monthly(stock_data$WPX), file="WPX.csv")
write.csv(to.monthly(stock_data$WU), file="WU.csv")
write.csv(to.monthly(stock_data$WY), file="WY.csv")
write.csv(to.monthly(stock_data$WYN), file="WYN.csv")
write.csv(to.monthly(stock_data$WYNN), file="WYNN.csv")
write.csv(to.monthly(stock_data$X), file="X.csv")
write.csv(to.monthly(stock_data$XEL), file="XEL.csv")
write.csv(to.monthly(stock_data$XL), file="XL.csv")
write.csv(to.monthly(stock_data$XLNX), file="XLNX.csv")
write.csv(to.monthly(stock_data$XOM), file="XOM.csv")
write.csv(to.monthly(stock_data$XRAY), file="XRAY.csv")
write.csv(to.monthly(stock_data$XRX), file="XRX.csv")
write.csv(to.monthly(stock_data$XYL), file="XYL.csv")
write.csv(to.monthly(stock_data$YHOO), file="YHOO.csv")
write.csv(to.monthly(stock_data$YUM), file="YUM.csv")
write.csv(to.monthly(stock_data$ZION), file="ZION.csv")
write.csv(to.monthly(stock_data$ZMH), file="ZMH.csv")

##########################################################################
# )similary we would have to manually write csv files for all 500 stocks.
# If we divide that, it wont take longer that half - one hour per person..
